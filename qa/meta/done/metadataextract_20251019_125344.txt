# SAP SuccessFactors Metadata Extraction Report: Teacher Transfer Points System

## Executive Summary
This metadata extraction focuses on the Teacher Transfer Points system within the Queensland Department of Education's HCMS program, specifically analyzing the BTP (Business Technology Platform) application for teacher transfers and the underlying data structures required for transfer point calculations. The analysis covers the custom solution architecture bypassing standard RCM limitations.

## Core Entity Analysis

### Primary Foundation Objects

#### FOCompany
```
Entity: FOCompany
- Purpose: Organizational structure for transfer rating locations
- Key Fields: 
  - companyCode (String, 32, Primary Key)
  - companyName (String, 255)
  - transferRatingLevel (Integer, 1-7 scale)
  - locationType (Picklist: URBAN, RURAL, REMOTE, METROPOLITAN)
  - effectiveStartDate (Date)
  - effectiveEndDate (Date)
- Relationships: Linked to JobInfo, EmploymentInfo for location-based calculations
- Validations: Transfer rating level must be between 1-7
```

#### FODepartment
```
Entity: FODepartment  
- Purpose: School/Regional office structures
- Key Fields:
  - departmentCode (String, 32, Primary Key)
  - departmentName (String, 255)
  - transferRating (Integer, 1-7 scale)
  - schoolType (Picklist: PRIMARY, SECONDARY, COMBINED, SPECIAL)
  - regionCode (String, 16)
  - effectiveStartDate (Date)
  - effectiveEndDate (Date)
- Relationships: Connected to employee assignments and transfer history
- Validations: Transfer rating follows 1-7 Queensland DoE scale
```

#### JobInfo
```
Entity: JobInfo
- Purpose: Employment assignment tracking for transfer point calculations
- Key Fields:
  - jobInfoId (String, 32, Primary Key)
  - userId (String, 32, Foreign Key to User)
  - startDate (Date)
  - endDate (Date)
  - company (String, 32, Foreign Key to FOCompany)
  - department (String, 32, Foreign Key to FODepartment)
  - transferRatingLevel (Integer, 1-7 inherited from company/department)
  - workDaysCount (Integer)
  - partTimeFactor (Decimal, 0.1-1.0)
- Relationships: Links employee to location for service calculation
- Validations: End date must be >= start date, work days calculated from service period
```

### Custom MDF Objects for Transfer Points

#### TransferPointsHistory (Custom MDF)
```
Entity: TransferPointsHistory
- Purpose: Historical transfer point tracking for 10-year rolling window
- Key Fields:
  - externalCode (String, 32, Primary Key)
  - userId (String, 32, Foreign Key to User)
  - calendarYear (Integer, YYYY)
  - yearStartDate (Date)
  - yearEndDate (Date)
  - totalPointsAccrued (Decimal, 2 decimal places)
  - dailyAccrualDetails (String, 4000) - JSON format
  - serviceDays (Integer)
  - transferRatingApplied (Integer, 1-7)
  - acceleratedAccrualFlag (Boolean)
  - effectiveStartDate (Date)
  - effectiveEndDate (Date)
- Validations: Points cannot exceed maximum for rating level, 10-year retention policy
- Security: HR and Regional Consultants access only
```

#### TransferApplication (Custom MDF)
```
Entity: TransferApplication
- Purpose: Transfer request and application management
- Key Fields:
  - externalCode (String, 32, Primary Key)
  - userId (String, 32, Foreign Key to User)
  - applicationDate (Date)
  - transferType (Picklist: PRIORITY, REQUESTED, EXCEPTION)
  - currentTotalPoints (Decimal, 2 decimal places)
  - requestedRegion (String, 32, Foreign Key to FOCompany)
  - requestedSchools (String, 1000) - Multi-value picklist
  - reasonForTransfer (Picklist: COMPASSIONATE, HARDSHIP, CAREER, FAMILY)
  - familyDependents (Integer)
  - applicationStatus (Picklist: DRAFT, SUBMITTED, APPROVED, REJECTED, WITHDRAWN)
  - transferStatus (Picklist: PENDING, APPROVED, COMPLETED, CANCELLED)
  - effectiveTransferDate (Date)
  - sourceSchool (String, 32, Foreign Key to FODepartment)
  - targetSchool (String, 32, Foreign Key to FODepartment)
  - approvalRequiredFromSource (Boolean)
  - approvalRequiredFromTarget (Boolean)
  - sourceApprovalStatus (Picklist: PENDING, APPROVED, REJECTED)
  - targetApprovalStatus (Picklist: PENDING, APPROVED, REJECTED)
- Validations: Minimum service period check, points eligibility validation
- Workflow: Bi-directional approval process
```

#### TransferRatingMatrix (Custom MDF)
```
Entity: TransferRatingMatrix
- Purpose: Transfer rating level definitions and rules
- Key Fields:
  - externalCode (String, 32, Primary Key)
  - locationType (Picklist: URBAN, RURAL, REMOTE, METROPOLITAN)
  - baseRating (Integer, 1-7)
  - acceleratedAfterYears (Integer)
  - maxPointsPerYear (Decimal)
  - acceleratedMultiplier (Decimal, 1.0-2.0)
  - ratingEffectiveDate (Date)
  - ratingEndDate (Date)
  - description (String, 500)
- Validations: Rating must be 1-7, accelerated years must be positive
- Business Rules: Higher ratings apply for 3 years after reduction
```

### Picklist Definitions

#### Transfer Type Picklist
```
Picklist: transferType
- Values:
  - PRIORITY: "Priority Transfer"
  - REQUESTED: "Requested Transfer" 
  - EXCEPTION: "Exception Transfer"
- Usage: TransferApplication.transferType
- Validation: Required field
```

#### Reason for Transfer Picklist
```
Picklist: reasonForTransfer
- Values:
  - COMPASSIONATE: "Compassionate/Hardship"
  - CAREER: "Career Development"
  - FAMILY: "Family Reasons"
  - HEALTH: "Health Reasons"
  - SAFETY: "Safety Concerns"
- Usage: TransferApplication.reasonForTransfer
- Validation: Required for application submission
```

#### Application Status Picklist
```
Picklist: applicationStatus
- Values:
  - DRAFT: "Draft"
  - SUBMITTED: "Submitted"
  - APPROVED: "Approved"
  - REJECTED: "Rejected"
  - WITHDRAWN: "Withdrawn"
- Usage: TransferApplication.applicationStatus
- Workflow: Status transitions governed by approval process
```

#### Approval Status Picklist
```
Picklist: approvalStatus
- Values:
  - PENDING: "Pending"
  - APPROVED: "Approved"
  - REJECTED: "Rejected"
- Usage: TransferApplication.sourceApprovalStatus, TransferApplication.targetApprovalStatus
- Workflow: Bi-directional approval requirement
```

### Integration Metadata

#### BTP-EC Integration Points
```
Integration: BTP_to_EC_Transfer_Data
- Source: BTP Application
- Target: Employee Central
- Objects: TransferApplication, TransferPointsHistory
- Frequency: Real-time for applications, daily for point calculations
- Method: OData API
- Security: OAuth 2.0 authentication
- Error Handling: Retry logic with 3 attempts, dead letter queue
```

#### HR Resource Group Integration
```
Integration: EC_to_HRRG_Transfer_History
- Source: Employee Central
- Target: HR Resource Group (Historical Data)
- Objects: TransferPointsHistory (10-year history)
- Frequency: Batch daily
- Method: SAP Integration Suite
- Data Flow: Historical service data for calculation validation
```

### Security and Permission Metadata

#### Field-Level Security
```
Security Profile: TransferPointsAdmin
- Access Level: Read/Write
- Objects: TransferPointsHistory, TransferApplication, TransferRatingMatrix
- Users: HR Administrators, Regional Consultants
- Permissions: Full CRUD operations

Security Profile: TransferPointsView
- Access Level: Read-only
- Objects: TransferPointsHistory, TransferApplication
- Users: Principals, Managers
- Permissions: View own and subordinate transfer data
```

#### Role-Based Access Control
```
Role: TeacherTransferUser
- Permissions: Submit transfer applications, view own points
- Scope: Own user data only
- Access: ESS portal

Role: RegionalHRConsultant
- Permissions: View applications, run reports, manage approvals
- Scope: Regional organizational units
- Access: MSS portal, BTP application

Role: Principal
- Permissions: Review applications for school, approve/reject
- Scope: School-specific
- Access: MSS portal
```

### Workflow Configuration Metadata

#### Transfer Application Workflow
```
Workflow: TransferApplicationWF
- Initiator: Employee (Teacher/Teacher Aide)
- Steps:
  1. Application Submission (Employee)
  2. Eligibility Validation (System)
  3. Source School Approval (Principal)
  4. Target School Approval (Principal) 
  5. HR Review (Regional Consultant)
  6. Final Approval (HR Administrator)
- Conditions: Points eligibility, service requirements
- Notifications: Email to all stakeholders at each step
```

### Report and Dashboard Metadata

#### Teacher Transfer Points Summary Report
```
Report: TransferPointsSummary
- Purpose: Summarize transfer points by employee and year
- Fields: Employee details, points by year, total points
- Filters: Organizational unit, employee, date range
- Output: PDF/Excel export capability
- Access: Regional HR Consultants
```

#### Teacher Transfer Points Detail Report
```
Report: TransferPointsDetail
- Purpose: Detailed daily accrual and service tracking
- Fields: Daily service, accrual details, rating levels
- Filters: Employee, date range
- Source: HR Resource Group for historical data
- Output: Detailed Excel export
- Access: HR and Regional Consultants
```

### Data Validation Rules

#### Service Continuity Validation
```
Rule: ContinuousServiceCheck
- Logic: Breaks > 60 school days reset continuity
- Trigger: JobInfo end date change
- Action: Recalculate transfer points from break date
- Exception: Unpaid leave < 1 month maintains continuity
```

#### Transfer Rating Validation
```
Rule: TransferRatingValidation
- Logic: Apply rating 1-7 scale with acceleration rules
- Trigger: Department change in JobInfo
- Action: Calculate points based on new rating
- Exception: Previous higher rating applies for 3 years after reduction
```

### Business Rules for Point Calculation

#### Accrual Calculation Logic
```
Rule: TransferPointAccrual
- Formula: (Days of Service / Total School Days) * Rating Level
- Time Frame: Last 10 calendar years
- Reset: Upon first preference transfer under specified conditions
- Maximum: Capped by rating level maximum points per year
```

#### Accelerated Accrual Rules
```
Rule: AcceleratedPointAccrual
- Trigger: Schools with rating 3-7 after specific service years
- Rate: Multiplier applied to standard accrual
- Tracking: Separate counter for accelerated year calculation
- Validation: Movement between schools affects acceleration counter
```

This metadata extraction provides the comprehensive data architecture foundation for implementing the teacher transfer points system within SAP SuccessFactors Employee Central, ensuring proper tracking of the 10-year service history and accurate transfer point calculations as required by the Queensland Department of Education.