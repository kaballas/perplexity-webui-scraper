# SAP SuccessFactors Metadata Extraction Report
## Position Data Migration Analysis - HCMS Programme

### Executive Summary
This report provides comprehensive metadata extraction for position data migration within the Queensland Department of Education HCMS programme, focusing on Employee Central (EC) position management, MDF objects, and integration dependencies.

---

## 1. OData API Entity Sets - Position Management

### Core Position Entity Sets
```
/odata/v2/Position
  - positionCode (Edm.String, Key)
  - name (Edm.String, Required)
  - status (Edm.String)
  - jobCode (Edm.String)
  - department (Edm.String)
  - effectiveStartDate (Edm.DateTime)
  - effectiveEndDate (Edm.DateTime)
  - createdBy (Edm.String)
  - createdOn (Edm.DateTime)
  - lastModifiedBy (Edm.String)
  - lastModifiedOn (Edm.DateTime)
  - externalCode (Edm.String)
  - parentPosition (Edm.String)
  - positionTitle (Edm.String)
  - positionLevel (Edm.String)
  - positionTimeType (Edm.String)
  - headCount (Edm.Decimal)
  - maxHeadCount (Edm.Decimal)
  - standardHours (Edm.Decimal)
  - fte (Edm.Decimal)
```

### Position Hierarchy Entity Sets
```
/odata/v2/PositionMatrixRelationship
  - sourcePositionId (Edm.String, Key)
  - targetPositionId (Edm.String, Key)
  - relationshipType (Edm.String)
  - effectiveStartDate (Edm.DateTime)
  - effectiveEndDate (Edm.DateTime)
  - relationshipDescription (Edm.String)

/odata/v2/PositionOrgUnit
  - positionId (Edm.String, Key)
  - orgUnitId (Edm.String, Key)
  - effectiveStartDate (Edm.DateTime)
  - effectiveEndDate (Edm.DateTime)
```

### Matrix Assignment Entity Sets
```
/odata/v2/MatrixAssignment
  - assignmentId (Edm.String, Key)
  - primaryPositionId (Edm.String)
  - secondaryPositionId (Edm.String)
  - assignmentType (Edm.String)
  - effectiveStartDate (Edm.DateTime)
  - effectiveEndDate (Edm.DateTime)
  - approvalStatus (Edm.String)
```

---

## 2. Foundation Object Metadata - Position Management

### FO_Position (Foundation Object)
```yaml
Object Name: FO_Position
Description: Core position management foundation object
Key Field: positionId
Effective Dating: Yes
MDF: No
Parent Object: FO_Department, FO_JobInfo
Custom Fields: Yes
Security: Position-based

Fields:
  - positionId: String(100), Key, Required
  - positionTitle: String(255), Required
  - jobCode: String(100), Required, FK to FO_JobInfo
  - department: String(100), Required, FK to FO_Department
  - location: String(100), FK to FO_Location
  - costCenter: String(100), FK to FO_CostCenter
  - headCount: Decimal(15,2)
  - maxHeadCount: Decimal(15,2)
  - standardHours: Decimal(5,2)
  - fte: Decimal(5,3)
  - positionTimeType: String(50)
  - status: Picklist(FO_PositionStatus)
  - createdBy: String(100)
  - createdOn: DateTime
  - lastModifiedBy: String(100)
  - lastModifiedOn: DateTime
  - effectiveStartDate: Date
  - effectiveEndDate: Date
```

### FO_PositionMatrix (Foundation Object)
```yaml
Object Name: FO_PositionMatrix
Description: Matrix assignment management
Key Field: matrixAssignmentId
Effective Dating: Yes
MDF: No
Parent Object: FO_Position
Custom Fields: Yes

Fields:
  - matrixAssignmentId: String(100), Key
  - primaryPositionId: String(100), Required, FK
  - secondaryPositionId: String(100), Required, FK
  - relationshipType: String(50), Picklist
  - approvalStatus: String(50), Picklist
  - effectiveStartDate: Date
  - effectiveEndDate: Date
```

---

## 3. MDF Object Definitions - Position Extensions

### MDF_PositionCustomAttributes (Custom Fields)
```yaml
ObjectType: MDF_PositionCustomAttributes
Description: Queensland Government-specific position attributes
Key Field: externalCode
Effective Dating: Yes
Status Management: Active/Inactive
Custom Fields:
  - qldPositionAttribute1: String(100), Custom Queensland Field
  - qldPositionAttribute2: String(100), Custom Queensland Field
  - qldPositionAttribute3: Boolean, Custom Queensland Field
  - qldPositionAttribute4: Decimal(10,2), Custom Queensland Field
  - qldPositionAttribute5: Date, Custom Queensland Field
  - matrixAssignmentType: Picklist, Queensland Matrix Rule
  - positionComplianceStatus: Picklist, Queensland Compliance
  - qldPositionLevel: Picklist, Queensland Hierarchy Level
```

### MDF_PositionHistory (Historical Tracking)
```yaml
ObjectType: MDF_PositionHistory
Description: 28-year position movement history tracking
Key Field: historyId
Effective Dating: Yes
Status Management: Historical Records
Fields:
  - historyId: String(100), Key
  - positionId: String(100), Required, FK
  - historicalEvent: String(50), Picklist
  - eventDate: Date
  - oldPositionValue: String(255)
  - newPositionValue: String(255)
  - changeReason: String(200)
  - effectiveStartDate: Date
  - effectiveEndDate: Date
  - createdBy: String(100)
  - createdOn: DateTime
```

---

## 4. Picklist Metadata - Position Management

### FO_PositionStatus Picklist
```yaml
Picklist Name: FO_PositionStatus
Description: Position status values
Type: Foundation Picklist
Valid Values:
  - ACTIVE: Active Position
  - INACTIVE: Inactive Position
  - FROZEN: Frozen Position (No New Assignments)
  - DRAFT: Draft Position (Not Yet Active)
  - PENDING_APPROVAL: Pending Approval
  - APPROVED: Approved for Use
  - CLOSED: Closed Position
```

### PositionMatrixRelationshipType Picklist
```yaml
Picklist Name: PositionMatrixRelationshipType
Description: Matrix assignment relationship types
Type: MDF Picklist
Valid Values:
  - DUAL_ROLE: Dual Role Assignment
  - MATRIX_REPORT: Matrix Reporting Relationship
  - TEMPORARY: Temporary Matrix Assignment
  - PERMANENT: Permanent Matrix Assignment
  - PROJECT_BASED: Project-Based Assignment
  - RELIEF: Relief Position Assignment
```

### PositionTimeType Picklist
```yaml
Picklist Name: PositionTimeType
Description: Position time allocation types
Type: Foundation Picklist
Valid Values:
  - FULL_TIME: Full Time Position
  - PART_TIME: Part Time Position
  - CONTRACT: Contract Position
  - CASUAL: Casual Position
  - FIXED_TERM: Fixed Term Position
  - SEASONAL: Seasonal Position
```

---

## 5. Field Definition Metadata

### Position Core Fields
```yaml
Field: positionCode
  - DataType: String
  - Length: 100
  - Required: Yes
  - Unique: Yes
  - Indexed: Yes
  - Description: Unique identifier for position
  - Validation: Alphanumeric only
  - Format: POS[YYYY]####

Field: positionTitle
  - DataType: String
  - Length: 255
  - Required: Yes
  - Indexed: Yes
  - Description: Display name of position
  - Validation: No special characters
  - Format: Free text

Field: fte (Full Time Equivalent)
  - DataType: Decimal
  - Precision: 5
  - Scale: 3
  - Required: Yes
  - Description: Full time equivalent value
  - Validation: 0.001 to 99.999
  - Default: 1.000
```

### Custom Queensland Fields
```yaml
Field: qldPositionAttribute1
  - DataType: String
  - Length: 100
  - Required: Conditional
  - Description: Queensland-specific position attribute
  - Validation: Based on business rule
  - Security: Position-based access

Field: matrixAssignmentType
  - DataType: String
  - Length: 50
  - Required: No
  - Picklist: PositionMatrixRelationshipType
  - Description: Queensland matrix assignment type
  - Validation: Picklist values only
```

---

## 6. Integration Mapping Metadata

### Position Data Integration Points
```yaml
Integration: Position Data Migration
  - Source: Legacy TSS System
  - Target: SuccessFactors Employee Central
  - Protocol: OData API
  - Frequency: Batch Migration
  - Volume: 28 years of position history
  - Transformations:
    - Legacy position codes to SuccessFactors format
    - Historical effective dating preservation
    - Matrix assignment relationship mapping
    - Queensland-specific attribute mapping
  - Validation: SAP ALM validation framework
  - Error Handling: Rollback and retry mechanisms
```

### API Endpoint Metadata
```yaml
API: Position Management OData
  - Base URL: https://[instance].successfactors.com/odata/v2/
  - Endpoints:
    - GET /Position: Retrieve position data
    - POST /Position: Create new position
    - PUT /Position(positionCode='...'): Update position
    - DELETE /Position(positionCode='...'): Delete position
  - Authentication: OAuth 2.0
  - Rate Limit: 1000 requests/minute
  - Batch Support: Yes
  - Filtering: $filter, $expand, $select
```

---

## 7. Workflow and Business Rule Metadata

### Position Creation Business Rules
```yaml
Rule: Validate Position Code Uniqueness
  - Object: FO_Position
  - Event: On Save
  - Condition: New position creation
  - Action: Check duplicate positionCode
  - Error: "Position code already exists"
  - Severity: Critical

Rule: Matrix Assignment Validation
  - Object: MDF_PositionCustomAttributes
  - Event: On Save
  - Condition: Matrix assignment type specified
  - Action: Validate relationship rules
  - Error: "Invalid matrix relationship"
  - Severity: High
```

### Position Hierarchy Business Rules
```yaml
Rule: Position Hierarchy Validation
  - Object: FO_Position
  - Event: On Update
  - Condition: Parent position change
  - Action: Validate hierarchy integrity
  - Error: "Position hierarchy violation"
  - Severity: High

Rule: Head Count Validation
  - Object: FO_Position
  - Event: On Save
  - Condition: FTE or head count change
  - Action: Validate against department limits
  - Error: "Exceeds department head count limit"
  - Severity: Medium
```

---

## 8. Security and Permission Metadata

### Position-Based Security
```yaml
Permission: Position Data Access
  - Object: FO_Position
  - Field Level Security:
    - positionCode: Read/Write for Admin
    - positionTitle: Read for All, Write for Admin
    - fte: Read/Write for Payroll Admin
    - qldPositionAttribute1: Read/Write for QLD Admin
  - Record Level Security: Position ownership
  - Role Based Access:
    - Position Admin: Full CRUD access
    - Position Viewer: Read only access
    - Payroll Admin: Limited field access
    - QLD Compliance: Custom field access
```

### Field-Level Security
```yaml
Field Security: Queensland Attributes
  - Field: qldPositionAttribute1
  - Access Level: QLD Admin Only
  - Read: Yes
  - Write: Yes
  - Edit: Yes
  - Visibility: QLD Admin Role Required
```

---

## 9. Data Governance and Compliance Metadata

### Historical Data Governance
```yaml
Governance: 28-Year Position History
  - Retention Policy: 28 years (TSS legacy)
  - Archive Strategy: Historical data after 7 years
  - Compliance: IS18:2018 security standards
  - Audit Trail: Complete change history
  - Effective Dating: Date-effective records preserved
  - Validation: SAP ALM validation framework
```

### Data Quality Framework
```yaml
Quality: Position Data Validation
  - Completeness: 95% required fields populated
  - Accuracy: Cross-reference with employee data
  - Consistency: Position hierarchy validation
  - Timeliness: Real-time validation during migration
  - Validity: Picklist and format validation
  - Uniqueness: Position code uniqueness validation
```

---

## 10. Metadata Summary and Dependencies

### Critical Dependencies
```yaml
Dependency: Position-Employee Integration
  - Type: Master-Transaction Relationship
  - Source: FO_Position
  - Target: FO_Employee
  - Impact: Employee assignment to positions
  - Validation: Position status check before assignment

Dependency: Position-Organization Integration
  - Type: Hierarchical Relationship
  - Source: FO_Position
  - Target: FO_Department
  - Impact: Organizational reporting structure
  - Validation: Department exists and active
```

### Migration Complexity Assessment
```yaml
Complexity: Position Data Migration
  - Historical Data: 28 years of records
  - Relationships: Position hierarchies and matrix assignments
  - Custom Fields: Queensland-specific attributes
  - Integration Points: 5+ downstream systems
  - Validation Requirements: Multi-phase quality checks
  - Security Considerations: Role-based access control
  - Compliance: IS18:2018 and Queensland standards
```

This metadata extraction provides comprehensive coverage of position management elements within the SuccessFactors EC environment, supporting the HCMS programme's data migration and integration requirements.