# SAP SuccessFactors Metadata Extraction Report
## Custom Leave Requirements and Transfer Points Implementation

### Executive Summary
This metadata extraction analyzes the custom leave requirements and transfer points functionality within SAP SuccessFactors, focusing on the Queensland Department of Education's HCMS implementation. The analysis covers MDF objects, business rules, integration requirements, and custom development needs for managing complex leave and transfer scenarios.

---

## 1. Core MDF Object Definitions

### 1.1 Transfer Points MDF Object (Custom)
- **Object Name**: `TransferPoints` (Proposed Custom MDF Object)
- **Purpose**: Employee transfer point calculation and tracking
- **Access Level**: HR Admin with field-level permissions
- **Relationship**: Linked to Employee Central via foundation object references
- **Fields**:
  - Employee ID (foundation object reference)
  - Tenure at current location (calculated date field)
  - Distance from preferred location (lookup/manual entry)
  - Circumstantial points (manual entry field)
  - Total points (calculated field)
  - Last calculation date (system-populated)

### 1.2 Leave Management MDF Objects (Custom)
- **Object Name**: Custom MDF Portlet for Complex Leave Requirements
- **Purpose**: Multiple leave type entry and management
- **Access Level**: Self-Service with manager approval workflows
- **Relationship**: Integrated with Time Off module and Employee Central

---

## 2. Business Rules Metadata

### 2.1 Transfer Points Calculation Rules
- **Location**: Admin Center > Configure Business Rules > Metadata Framework
- **Trigger Events**:
  - `onInit`: Calculate points when record is created
  - `onSave`: Recalculate on any field update
  - `onChange`: Trigger when specific field values change
  - `Scheduled`: Time-based recalculation via background jobs

### 2.2 Rule Configuration Properties
```
Base Object: TransferPoints
Purpose: Derived Field Value Calculation
Execution Context: onSave, onChange(current_location_start_date)
Formula Functions: Mathematical operations, date calculations, conditional logic
Field Propagation: Copy calculated values to target fields
```

### 2.3 Leave Management Business Rules
- **Purpose**: Custom leave validation and approval workflows
- **Complexity Level**: High (requires custom integration)
- **Execution Frequency**: Event-driven and scheduled

---

## 3. Integration Center Metadata

### 3.1 Scheduled Calculation Jobs
- **Integration Type**: OData-based data movement
- **Source**: Custom `TransferPoints` MDF object
- **Transformation**: Calculation logic in integration mapping
- **Destination**: Update same MDF object or propagate to Job Information/User records
- **Schedule**: Nightly recalculation of employee transfer points

### 3.2 Data Propagation Requirements
- **Cross-Object Access**: MDF to standard SuccessFactors objects
- **Event-Based Triggers**: Position transfer events
- **Snapshot Logic**: Capture points totals for transfer requests
- **Real-Time Sync**: Limited (primarily scheduled jobs)

---

## 4. Extension Center and BTP Metadata

### 4.1 Custom UI5 Applications
- **Application Type**: BTP-hosted custom apps
- **Components**:
  - Transfer Points Dashboard
  - Request Queue Management Interface
  - Points Calculator Tool
- **Backend**: BTP Cloud Foundry environment
- **Frontend**: UI5 framework
- **API Exposure**: OData services for custom MDF objects

### 4.2 SAP Business Process Automation (SBPA)
- **Workflow Type**: Multi-criteria approval routing
- **Logic Engine**: Automated transfer request ranking
- **Notification System**: Eligibility milestone alerts
- **Third-Party Integration**: Location data validation systems

---

## 5. Calculated Fields Metadata

### 5.1 Boolean Logic Fields
- **Field Type**: Boolean (True/False)
- **Purpose**: Dynamic UI section visibility control
- **Conditions**: Transfer points threshold validation
- **Access**: Read-only, calculated in real-time

### 5.2 Derived Value Calculations
- **Tenure Calculation**: Years in current position
- **Milestone Tracking**: Points to next eligibility threshold
- **Cohort Ranking**: Department/location-based rankings
- **Status**: Read-only display fields only

---

## 6. Integration Dependencies

### 6.1 Foundation Object Relationships
- **Employee Central**: Core employee data reference
- **Job Information**: Position and tenure tracking
- **Time Off Module**: Leave type and balance integration
- **Organizational Structure**: Department/location mapping

### 6.2 API Endpoints and Services
- **OData Services**: Custom MDF object exposure
- **Workforce Schema API**: Data model extraction
- **Integration Suite**: Real-time data flow management
- **Kafka Event Streaming**: Change event processing

---

## 7. Security and Permission Metadata

### 7.1 Role-Based Access Control
- **HR Admin**: Full access to transfer point calculations
- **Employees**: Self-service view of personal points
- **Managers**: Department-level transfer request visibility
- **Hiring Managers**: Ranked request queue access

### 7.2 Field-Level Security
- **Sensitive Data**: Distance and circumstantial points
- **Editable Fields**: Manual entry points only
- **Calculated Fields**: Protected from direct modification
- **Audit Trail**: Change tracking for all modifications

---

## 8. WRICEF Classification Analysis

### 8.1 Custom Development Requirements
- **Workflow (W)**: Enhanced approval routing for transfer requests
- **Report (R)**: Custom transfer ranking and eligibility reports
- **Interface (I)**: Integration Center scheduled jobs
- **Conversion (C)**: Data migration for existing transfer points
- **Enhancement (E)**: MDF Business Rules for calculations
- **Form (F)**: Custom UI5 applications for user interfaces

### 8.2 Implementation Complexity Matrix
| Component | Complexity | Real-Time | Cross-Object Access | UI Customization |
|-----------|------------|-----------|-------------------|------------------|
| MDF Business Rules | Low | Yes | Limited | No |
| Integration Center | Medium | No (Scheduled) | Yes | No |
| BTP Extensions | High | Yes | Yes (OData) | Full UI |
| Calculated Fields | Low | Yes | Limited | Display Only |

---

## 9. Metadata Documentation Standards

### 9.1 Naming Conventions
- **Rules**: Descriptive IDs following organizational standards
- **Objects**: Prefix-based (e.g., `custom_transfer_`)
- **Fields**: Business-logical naming with data type indicators
- **APIs**: RESTful endpoint naming conventions

### 9.2 Documentation Requirements
- **Business Logic**: Purpose field descriptions for each rule
- **Dependencies**: Circular dependency avoidance documentation
- **Performance**: Rule complexity monitoring guidelines
- **Testing**: Example implementation and validation procedures

---

## 10. Implementation Recommendations

### 10.1 Hybrid Architecture Approach
1. **Layer 1**: Custom MDF objects for data storage
2. **Layer 2**: MDF Business Rules for basic calculations
3. **Layer 3**: Integration Center for complex scheduled logic
4. **Layer 4**: BTP applications for advanced UI
5. **Layer 5**: SBPA for workflow automation

### 10.2 Metadata Governance
- **Version Control**: Track changes to MDF object definitions
- **Audit Compliance**: Maintain change logs for all business rules
- **Performance Monitoring**: Monitor rule execution times
- **Data Quality**: Implement validation checks for custom fields

This metadata extraction provides comprehensive coverage of the custom leave and transfer points functionality requirements, enabling informed implementation decisions and proper system configuration for the Queensland Department of Education's HCMS project.