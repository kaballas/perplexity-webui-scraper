# SAP SuccessFactors Metadata Extraction Report
## Internal Secondment Processing and Date-Effective Management

### Executive Summary
This metadata extraction analyzes the internal secondment processing requirements, focusing on date-effective management, automatic end action creation, and employment detail defaulting capabilities within SAP SuccessFactors Employee Central. The analysis covers core objects, workflows, and business rules required to support temporary mobility actions in the Australian Public Sector context.

---

## 1. Core Data Objects Metadata

### 1.1 Employee Central (EC) Objects

#### EmploymentInfo Object
- **Primary Function**: Employment relationship tracking with temporal management
- **Key Fields**: 
  - `employmentStatus` (Picklist: Active, Inactive, Terminated)
  - `startDate` (Date field for secondment start)
  - `endDate` (Date field for secondment end - critical for automatic end actions)
  - `employmentType` (Picklist: Permanent, Temporary, Fixed Term, Secondment)
  - `subType` (Picklist: Internal Secondment, External Secondment, Temporary Assignment)
- **Temporal Management**: Effective dating support for concurrent employment records
- **Relationships**: One-to-Many with Person ID for multiple concurrent employments
- **Properties**: Primary/Secondary employment indicators, FTE allocation fields

#### JobInfo Object
- **Primary Function**: Job assignment and position history with effective dating
- **Key Fields**:
  - `position` (Position code for secondment position)
  - `jobCode` (Job classification for secondment role)
  - `employmentType` (Current employment type)
  - `assignmentId` (Unique identifier for assignment)
  - `startDate` (Secondment start date)
  - `endDate` (Secondment end date - triggers automatic end action)
  - `event` (Event type: Position Change, Secondment, Temporary Assignment)
  - `eventReason` (Specific reason: Internal Secondment, Temporary Assignment)
- **Temporal Management**: Date-effective job changes with historical tracking
- **Dependencies**: Linked to Position Management and Pay Component objects

#### Employment Details Object
- **Primary Function**: Detailed employment information management
- **Key Fields**:
  - `payGrade` (Pay grade from secondment position)
  - `payComponentGroup` (Pay structure from secondment)
  - `division` (Organizational assignment)
  - `department` (Department from secondment position)
  - `costCenter` (Cost center allocation)
  - `managerId` (Reporting manager from secondment)
  - `location` (Work location from secondment)

---

## 2. Foundation Objects Metadata

### 2.1 Position Management Objects

#### Position Object (FOPosition)
- **Key Fields**:
  - `positionId` (Unique position identifier)
  - `positionTitle` (Position title for secondment)
  - `jobCode` (Associated job classification)
  - `departmentId` (Department assignment)
  - `costCenterId` (Cost center allocation)
  - `reportsTo` (Manager hierarchy)
  - `positionStatus` (Active, Inactive, Vacant)
  - `effectiveStartDate` (Position effective dating)
  - `effectiveEndDate` (Position end date)

#### Job Information (FOJob)
- **Key Fields**:
  - `jobCode` (Unique job identifier)
  - `jobTitle` (Job title)
  - `jobFamily` (ANZSCO/OSCA job family classification)
  - `jobFunction` (Job function mapping)
  - `standardHours` (Full-time equivalent hours)
  - `payGrade` (Associated pay grade)

---

## 3. MDF (Master Data Framework) Objects

### 3.1 Custom Secondment Management Object
- **Object Name**: `customSecondmentInfo`
- **Purpose**: Track internal secondment specific details
- **Key Fields**:
  - `secondmentId` (Unique secondment identifier)
  - `originalPositionId` (Substantive position reference)
  - `secondmentPositionId` (Secondment position reference)
  - `secondmentType` (Picklist: Internal, External, Temporary Assignment)
  - `startDate` (Secondment start date)
  - `endDate` (Secondment end date - triggers automatic end action)
  - `returnDate` (Expected return to substantive position)
  - `secondmentReason` (Business reason for secondment)
  - `approverId` (HR/Payroll officer for overrides)
  - `status` (Picklist: Active, Pending Approval, Completed)

### 3.2 Mobility Action Tracking Object
- **Object Name**: `customMobilityAction`
- **Purpose**: Track automatic end action creation
- **Key Fields**:
  - `actionId` (Unique action identifier)
  - `originalActionId` (Reference to start action)
  - `endActionRequired` (Boolean: True/False)
  - `endActionCreated` (Boolean: True/False)
  - `endActionDate` (Date when end action should be created)
  - `endActionStatus` (Picklist: Pending, Created, Processed)

---

## 4. Business Rules Metadata

### 4.1 Secondment Processing Rules
- **Rule Name**: `OnSave_SecondmentEndDateTrigger`
- **Event**: On Save EmploymentInfo/JobInfo
- **Logic**: When `endDate` is set for temporary action, create corresponding end action
- **Conditions**: 
  - `employmentType` IN (Temporary, Secondment, Fixed Term)
  - `endDate` is not null
- **Actions**: 
  - Create automatic end action
  - Set end action date to match secondment end date
  - Send notification to HR/Payroll officers

### 4.2 Default Employment Details Rule
- **Rule Name**: `OnEdit_SecondmentDefaults`
- **Event**: On Edit JobInfo
- **Logic**: Automatically populate employment details from secondment position
- **Source**: Position Management object
- **Target**: Employment Details in JobInfo
- **Override Capability**: Allow HR/Payroll officers to modify default values

### 4.3 Automatic End Action Creation Rule
- **Rule Name**: `OnCreate_AutoEndAction`
- **Event**: On Create temporary mobility action
- **Logic**: Create corresponding end action immediately upon start action creation
- **Supported Actions**: 
  - Secondment (Internal/External)
  - Temporary Assignment
  - Fixed Term Employment
  - Higher Duties Assignment

---

## 5. Workflow Configuration Metadata

### 5.1 Secondment Approval Workflow
- **Workflow ID**: `WF_Secondment_Process`
- **Start Event**: New secondment request
- **Approval Steps**:
  - Manager Approval (Original position)
  - Manager Approval (Secondment position)
  - HR Officer Review
  - Payroll Officer Review (for overrides)
- **Automatic Actions**:
  - Create end action upon approval
  - Update JobInfo with secondment details
  - Generate return-to-substantive action

### 5.2 End Action Workflow
- **Workflow ID**: `WF_EndAction_AutoGen`
- **Trigger**: Date-based (when secondment end date approaches)
- **Process**: 
  - Validate return conditions
  - Restore original employment details
  - Update Position Management
  - Notify stakeholders

---

## 6. Picklist Metadata

### 6.1 Employment Type Picklist
- **Field**: `employmentInfo.employmentType`
- **Values**:
  - PERM (Permanent)
  - TEMP (Temporary)
  - FIXT (Fixed Term)
  - SECO (Internal Secondment)
  - SECE (External Secondment)
  - TASA (Temporary Assignment)
  - HIGD (Higher Duties)

### 6.2 Event Reason Picklist for Secondments
- **Field**: `jobInfo.eventReason`
- **Values**:
  - INTSEC (Internal Secondment)
  - EXTSEC (External Secondment)
  - TEMPASG (Temporary Assignment)
  - FIXTHI (Fixed Term Higher Duties)

### 6.3 Mobility Action Status Picklist
- **Field**: `customMobilityAction.status`
- **Values**:
  - PEND (Pending)
  - CREA (Created)
  - PROC (Processed)
  - COMP (Completed)

---

## 7. Integration Mapping Metadata

### 7.1 Position Management Integration
- **Source**: Position Management module
- **Target**: Employee Central JobInfo
- **Mapping Fields**:
  - Position details → Job assignment fields
  - Pay structure → Compensation fields
  - Organizational structure → Department/Cost center

### 7.2 Payroll Integration
- **Source**: Employee Central
- **Target**: Payroll system
- **Trigger Events**: 
  - Secondment start date
  - Secondment end date (automatic)
  - Pay component changes during secondment

---

## 8. Security and Permission Metadata

### 8.1 Role-Based Permissions for Secondment Processing
- **Role**: `HR_Officer_Secondment`
  - Read/Write access to JobInfo for secondment processing
  - Override permissions for employment details
  - Access to custom secondment objects

- **Role**: `Payroll_Officer_Secondment`
  - View access to employment details
  - Override permissions for pay-related fields
  - Access to payroll integration settings

### 8.2 Field-Level Security
- **Restricted Fields**: Pay components, cost center allocations
- **Editable by HR**: Employment details, position assignments
- **Editable by Payroll**: Compensation overrides, pay grade adjustments

---

## 9. Technical Implementation Considerations

### 9.1 OData API Endpoints
- **Employee Data**: `/odata/v2/Employee`
- **Job Information**: `/odata/v2/JobInfo`
- **Employment Information**: `/odata/v2/EmploymentInfo`
- **Custom Objects**: `/odata/v2/customSecondmentInfo`

### 9.2 Event and Event Reason Configuration
- **Start Events**: Position Change, Job Change, Employment Change
- **End Events**: Position End, Job End, Employment End
- **Auto-creation Trigger**: Date-based event scheduling

This metadata extraction provides the foundation for implementing date-effective internal secondment processing with automatic end action creation, supporting the Australian Public Sector's temporary mobility requirements within the SAP SuccessFactors ecosystem.