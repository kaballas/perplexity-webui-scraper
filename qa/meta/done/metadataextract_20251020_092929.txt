# SAP SuccessFactors Metadata Extraction Report
## Queensland Department of Education HCMS - Organizational Design Implementation

### 1. Foundation Objects Metadata

#### 1.1 Organizational Unit Foundation Object (FR-1, FR-2, FR-3, FR-5, FR-6)
- **Object Name**: `FOrganizationUnit`
- **Object Type**: Foundation Object (FO)
- **Effective Dating**: Yes (effectiveStartDate, effectiveEndDate)
- **Key Fields**:
  - `externalCode` (Primary Key) - Org Unit ID
  - `name` - Org Unit Title
  - `orgUnitType` - Org Unit Type (Department, Division, Region, School, Centre, Office, Branch, Business Unit)
  - `status` - Status (Active, Inactive, Planned, Pending Approval)
  - `headPositionId` - Head Position ID
  - `costCenter` - Cost Centre
  - `location` - Location
  - `transferRating` - Transfer Rating (Decimal field)
  - `establishmentControl` - Establishment Control Type
  - `fteCap` - Maximum FTE Allocation
- **Relationships**:
  - Parent: `parentOrgUnitId` → `FOrganizationUnit.externalCode`
  - Child: `FOrganizationUnit.externalCode` → `Position.departmentId`
  - Cost Center: `costCenter` → `FCostCenter.externalCode`
  - Location: `location` → `Location.externalCode`

#### 1.2 Job Foundation Object (FR-9, FR-10, FR-11, FR-12, FR-13)
- **Object Name**: `JobInfo`
- **Object Type**: Foundation Object (FO)
- **Effective Dating**: Yes (startDate, endDate)
- **Key Fields**:
  - `jobCode` (Primary Key) - Job ID
  - `jobTitle` - Job Title
  - `jobFamily` - Job Family
  - `jobFunction` - Job Function
  - `jobRoleLevel1` - Job Role Level 1
  - `jobRoleLevel2` - Job Role Level 2
  - `anzscoCode` - ANZSCO Code
  - `anzscoName` - ANZSCO Name
  - `certifiedAgreement` - Certified Agreement
  - `jobLevel` - Job Level Classification
  - `jobStatus` - Job Status (Active, Inactive, Planned)
- **Relationships**:
  - Position: `JobInfo.jobCode` → `Position.jobCode`
  - External Mappings: `anzscoCode` → External ANZSCO reference tables

#### 1.3 Position Foundation Object (FR-14, FR-15, FR-16, FR-17, FR-18, FR-19)
- **Object Name**: `Position`
- **Object Type**: Foundation Object (FO)
- **Effective Dating**: Yes (startDate, endDate)
- **Key Fields**:
  - `positionCode` (Primary Key) - Position ID
  - `name` - Position Title
  - `locallyKnownAs` - Locally Known As
  - `jobCode` - Job Profile
  - `reportsTo` - Reports To Position
  - `supervisorPositionId` - Supervisor Position
  - `numberOfDirectReports` - Number of Direct Reports
  - `budgetedFTE` - Budgeted FTE
  - `actualFTE` - Actual FTE
  - `incumbentCount` - Number of Incumbents (Headcount)
  - `vacant` - Vacant (Y/N)
  - `positionType` - Position Type
  - `startDate` - Position Start Date
  - `endDate` - Position End Date
  - `fundingType` - Funding Type
  - `departmentId` - Organisational Unit
  - `locationId` - Location
  - `costCenterId` - Cost Centre
  - `award` - Award
  - `classification` - Classification
  - `siteSpecificAllowance` - Site Specific Allowance
  - `hrDelegation` - HR Delegation Level
  - `financeDelegation` - Finance Delegation Level
  - `identifiedPosition` - Identified Position (Y/N)
  - `roleDescriptionUrl` - Role Description Attachment URL
  - `maxFTECap` - Maximum FTE Cap for Position
- **Relationships**:
  - Job: `position.jobCode` → `JobInfo.jobCode`
  - Organization: `position.departmentId` → `FOrganizationUnit.externalCode`
  - Reports To: `position.reportsTo` → `Position.positionCode`
  - Supervisor: `position.supervisorPositionId` → `Position.positionCode`
  - Location: `position.locationId` → `Location.externalCode`
  - Cost Center: `position.costCenterId` → `FCostCenter.externalCode`

#### 1.4 Location Foundation Object (FR-34, FR-35, FR-36)
- **Object Name**: `Location`
- **Object Type**: Foundation Object (FO)
- **Effective Dating**: Yes (startDate, endDate)
- **Key Fields**:
  - `externalCode` (Primary Key) - Location ID
  - `name` - Location Name
  - `address` - Location Address
  - `contactDetails` - Location Contact Details
  - `longitude` - Longitude
  - `latitude` - Latitude
  - `locationType` - Location Type
  - `isRemote` - Remote Location (Y/N)
  - `virtualLocation` - Virtual Location (Y/N)
  - `locationStatus` - Location Status (Active, Inactive)
- **Relationships**:
  - Position: `Location.externalCode` → `Position.locationId`
  - Organization: `Location.externalCode` → `FOrganizationUnit.location`

### 2. Master Data Framework (MDF) Objects

#### 2.1 Job Classification Framework (FR-9, FR-10)
- **Object Name**: `JobClassification`
- **Object Type**: MDF Object
- **Key Fields**:
  - `jobClassificationId` - Classification ID
  - `jobFamily` - Job Family
  - `jobFunction` - Job Function
  - `jobRoleLevel1` - Job Role Level 1
  - `jobRoleLevel2` - Job Role Level 2
  - `anzscoCode` - ANZSCO Code
  - `anzscoName` - ANZSCO Name
  - `certifiedAgreement` - Certified Agreement
  - `frameworkVersion` - Framework Version
  - `effectiveStartDate` - Framework Effective Start
  - `effectiveEndDate` - Framework Effective End

#### 2.2 Position Allowance Framework (FR-32)
- **Object Name**: `PositionAllowance`
- **Object Type**: MDF Object
- **Key Fields**:
  - `allowanceId` - Allowance ID
  - `positionCode` - Position Code
  - `allowanceType` - Allowance Type (Site Specific, Position Based)
  - `allowanceAmount` - Allowance Amount
  - `allowanceFrequency` - Allowance Frequency
  - `effectiveStartDate` - Allowance Start Date
  - `effectiveEndDate` - Allowance End Date
  - `payrollIntegrationFlag` - Payroll Integration Flag

#### 2.3 Concurrent Employment Framework (FR-20, FR-31)
- **Object Name**: `ConcurrentEmployment`
- **Object Type**: MDF Object
- **Key Fields**:
  - `concurrentId` - Concurrent Employment ID
  - `employeeId` - Employee ID
  - `positionCode1` - Primary Position Code
  - `positionCode2` - Secondary Position Code
  - `fteAllocation1` - Primary Position FTE
  - `fteAllocation2` - Secondary Position FTE
  - `totalFTE` - Total FTE Allocation
  - `awardType1` - Primary Award Type
  - `awardType2` - Secondary Award Type
  - `effectiveStartDate` - Concurrent Employment Start
  - `effectiveEndDate` - Concurrent Employment End

### 3. Data Model Relationships and Dependencies

#### 3.1 Hierarchical Organization Structure
```
FOrganizationUnit (Parent) → FOrganizationUnit (Child)
- externalCode → parentOrgUnitId
- Supports multiple levels: Department → Division → Region → School → Centre

JobInfo → Position
- jobCode → jobCode
- Supports job inheritance to position attributes

Position → Employee
- positionCode → positionCode
- Supports 1:Many relationships for concurrent employment
```

#### 3.2 FTE Management Dependencies
- **Position Level**: `budgetedFTE`, `actualFTE`, `incumbentCount`
- **Organization Level**: Sum of position FTEs within org unit
- **Validation Rules**: Position FTE ≤ Org Unit FTE Cap
- **Workflow Triggers**: FTE cap exceeded → Warning/Approval required

#### 3.3 Location-Based Pay Dependencies (FR-37)
- **Work Site Location**: `workSiteLocationId` (Physical work location)
- **Physical Location**: `physicalLocationId` (Actual physical address)
- **Pay Calculation**: If `physicalLocation` != `workSiteLocation` AND `physicalLocation` is personal residence → No location-based allowances

### 4. Temporal Data Management

#### 4.1 Effective Dating Implementation
- **Foundation Objects**: Use `effectiveStartDate` and `effectiveEndDate`
- **Position Changes**: Maintain historical position assignments
- **Organization Changes**: Track organizational structure evolution
- **Job Changes**: Maintain job profile historical data
- **Location Changes**: Track location attribute modifications

#### 4.2 Version Management
- **Current Version**: Records with `effectiveEndDate` = '9999-12-31'
- **Historical Versions**: Records with specific `effectiveEndDate`
- **Future Versions**: Records with `effectiveStartDate` > current date
- **Active Validation**: Only one active record per effective date range

### 5. Business Rule Metadata

#### 5.1 FTE Cap Validation Rules (FR-17)
- **Validation Logic**:
  - Calculate total budgeted FTE for organization unit
  - Compare against `fteCap` field in `FOrganizationUnit`
  - Generate warning if threshold exceeded
- **Real-time Validation**: Trigger on position creation/update
- **Threshold Settings**: Configurable percentage limits (e.g., 95%, 100%)

#### 5.2 Concurrent Employment Validation Rules (FR-20, FR-31)
- **Validation Logic**:
  - Check total FTE allocation per employee across positions
  - Validate award type compatibility
  - Ensure no overlapping cost centers where prohibited
- **Maximum Positions**: Configurable limit per employee
- **FTE Calculation**: Sum of all concurrent position FTEs ≤ 1.0 (or configured limit)

#### 5.3 Workflow Integration Rules (FR-28)
- **Approval Workflow Triggers**:
  - Position type = "Permanent" → Route to JADE team
  - Position level = "SES" → Route to Finance team
  - Self-funded positions → School approval
  - Funding type = "New funding" → Finance approval
- **Workflow Status Fields**:
  - `workflowStatus` (Pending, Approved, Rejected, In Progress)
  - `approverId` (Assigned approver)
  - `approvalDate` (Date of approval)
  - `comments` (Approval/rejection comments)

#### 5.4 Bulk Operation Validation Rules (FR-21, FR-22)
- **Validation Logic**:
  - FTE cap validation for bulk position creation
  - Organizational hierarchy validation
  - Cost center availability validation
  - Concurrent employment impact assessment
- **Batch Processing**: Separate queue for bulk operations
- **Error Handling**: Individual record error logging with batch continuation

### 6. Picklist Metadata

#### 6.1 Organizational Unit Type Picklist
- **Picklist ID**: `orgUnitType`
- **Values**:
  - `DEPARTMENT`: Department
  - `DIVISION`: Division  
  - `REGION`: Region
  - `SCHOOL`: School
  - `CENTRE`: Centre
  - `OFFICE`: Office
  - `BRANCH`: Branch
  - `BUSINESS_UNIT`: Business Unit

#### 6.2 Position Type Picklist
- **Picklist ID**: `positionType`
- **Values**:
  - `PERMANENT`: Permanent
  - `TEMPORARY`: Temporary
  - `CASUAL`: Casual
  - `CONTRACTOR`: Contractor
  - `VOLUNTEER`: Volunteer
  - `SEASONAL`: Seasonal

#### 6.3 Status Picklist (Common)
- **Picklist ID**: `status`
- **Values**:
  - `ACTIVE`: Active
  - `INACTIVE`: Inactive
  - `PLANNED`: Planned
  - `PENDING_APPROVAL`: Pending Approval
  - `ABOLISHED`: Abolished

#### 6.4 Funding Type Picklist
- **Picklist ID**: `fundingType`
- **Values**:
  - `GOVERNMENT`: Government Funded
  - `SELF_FUNDED`: Self Funded
  - `CONTRACT`: Contract Funded
  - `GRANT`: Grant Funded
  - `MACHINERY_OF_GOVT`: Machinery of Government

### 7. Security and Permission Metadata

#### 7.1 Role-Based Access Control
- **Security Objects**:
  - `PositionManagementRole` - Position creation/edit permissions
  - `OrganizationManagementRole` - Organizational unit management
  - `JobManagementRole` - Job profile management
  - `LocationManagementRole` - Location data management
  - `ApproverRole` - Position approval workflows

#### 7.2 Field-Level Security
- **Restricted Fields**:
  - `salary` fields (payroll-sensitive)
  - `delegation` fields (approval-sensitive)
  - `fundingInformation` (finance-sensitive)
  - `costCenter` (budget-sensitive)
  - `allowance` fields (compensation-sensitive)

#### 7.3 Position Creation Permissions
- **School-Level Permissions**: Schools can create self-funded positions
- **Department-Level Permissions**: Department can create all position types
- **Approval Bypass**: Self-funded positions bypass additional workflow
- **Validation Required**: All positions require FTE cap validation

### 8. Reporting and Analytics Metadata

#### 8.1 Organizational Reporting Objects
- **Reportable Fields**:
  - `vacancyManagementReport` - Vacancy management metrics
  - `occupancyManagementReport` - Occupancy management metrics  
  - `headcountFTEReport` - Headcount and FTE reporting
  - `organizationalStructureReport` - Organizational structure reporting
  - `establishmentManagementReport` - Establishment management reporting

#### 8.2 Custom MDF Objects for Reporting
- **OrgReportingMDF** - Custom reporting object
  - **Fields**:
    - `reportDate` - Report generation date
    - `headcountTotal` - Total headcount
    - `vacantPositions` - Count of vacant positions
    - `filledPositions` - Count of filled positions
    - `fteTotal` - Total FTE allocation
    - `establishmentCap` - Establishment FTE cap
    - `complianceStatus` - Compliance status indicator

#### 8.3 Analytics Dimensions
- **Organizational Hierarchy**: Department → Division → Region → School
- **Time Dimensions**: Effective date ranges, historical snapshots
- **Funding Dimensions**: Funding type, cost center, award type
- **Position Dimensions**: Position type, job family, classification

### 9. API and Integration Metadata

#### 9.1 OData Entity Names
- **Organization Unit**: `FOrganizationUnit`
- **Job Information**: `JobInfo` 
- **Position**: `Position`
- **Location**: `Location`
- **Job Classification**: `JobClassification`
- **Cost Center**: `FCostCenter`

#### 9.2 API Endpoints for Organizational Data
- **GET /odata/v2/FOrganizationUnit** - Retrieve organizational units
- **GET /odata/v2/JobInfo** - Retrieve job information
- **GET /odata/v2/Position** - Retrieve positions
- **GET /odata/v2/Location** - Retrieve locations
- **POST /odata/v2/Position** - Create new positions
- **PATCH /odata/v2/FOrganizationUnit** - Update organizational units
- **DELETE /odata/v2/Position** - Abolish positions

#### 9.3 Integration Mapping Fields
- **CIS Integration**:
  - `cis_org_unit_id` → `externalCode` (OrganizationUnit)
  - `cis_job_code` → `jobCode` (JobInfo)
  - `cis_position_id` → `positionCode` (Position)
  - `cis_location_code` → `externalCode` (Location)

### 10. Data Validation and Business Rules

#### 10.1 Required Field Validation
- **Organization Unit**: `externalCode`, `name`, `orgUnitType`, `status`
- **Job**: `jobCode`, `jobTitle`, `jobFamily`, `status`
- **Position**: `positionCode`, `name`, `jobCode`, `status`
- **Location**: `externalCode`, `name`, `address`

#### 10.2 Format Validation
- **ID Fields**: Alphanumeric with specific length constraints (8-15 characters)
- **Date Fields**: ISO 8601 format (YYYY-MM-DD)
- **Decimal Fields**: FTE values with 2 decimal places maximum
- **Email Fields**: Standard email format validation

#### 10.3 Cross-Reference Validation
- **Position to Job**: `jobCode` must exist in `JobInfo`
- **Position to Org Unit**: `departmentId` must exist in `FOrganizationUnit`
- **Position to Location**: `locationId` must exist in `Location`
- **Position to Cost Center**: `costCenterId` must exist in `FCostCenter`

#### 10.4 Business Rule Validation
- **FTE Cap Validation**: Position FTE ≤ Organizational unit FTE cap
- **Hierarchical Validation**: Parent organization must exist
- **Date Validation**: End date must be after start date
- **Concurrent Validation**: Total employee FTE ≤ maximum allowed

### 11. Bulk Operations Metadata (FR-21, FR-22)

#### 11.1 Bulk Import Objects
- **PositionBulkImport** - Bulk position creation
- **OrganizationUnitBulkImport** - Bulk org unit creation  
- **JobBulkImport** - Bulk job creation
- **LocationBulkImport** - Bulk location creation

#### 11.2 Bulk Operation Fields
- **Batch ID**: `batchId` - For tracking bulk operations
- **Operation Type**: `operationType` - Create, Update, Delete
- **Status**: `status` - Processing, Completed, Error, Partial
- **Record Count**: `recordCount` - Total records in batch
- **Processed Count**: `processedCount` - Successfully processed
- **Error Count**: `errorCount` - Failed records
- **Error Details**: `errorDetails` - Specific error information

#### 11.3 Bulk Validation Rules
- **FTE Cap Validation**: Validate total FTE impact before processing
- **Dependency Validation**: Validate all referenced objects exist
- **Workflow Bypass**: Bulk operations may bypass individual workflows
- **Rollback Capability**: Support for transaction rollback on errors

### 12. Custom Field Extensions

#### 12.1 Organizational Unit Custom Fields
- **transferRating** - `transferRating` (Decimal field for transfer rating)
- **establishmentControl** - `establishmentControl` (Picklist for funding control)
- **fteCap** - `fteCap` (Maximum FTE allocation)
- **machineryOfGovtFlag** - `machineryOfGovtFlag` (Boolean for MoG changes)

#### 12.2 Position Custom Fields
- **locallyKnownAs** - `locallyKnownAs` - Alternative position name
- **siteSpecificAllowance** - `siteSpecificAllowance` - Position-based allowance
- **identifiedPosition** - `identifiedPosition` - Boolean for identified positions
- **roleDescription** - `roleDescriptionUrl` - Attachment field for role descriptions
- **workSiteLocationId** - `workSiteLocationId` - Work site location for pay calculation
- **physicalLocationId** - `physicalLocationId` - Physical location for pay calculation

#### 12.3 Job Custom Fields
- **anzscoCode** - `anzscoCode` - ANZSCO Code for external mapping
- **anzscoName** - `anzscoName` - ANZSCO Name for external mapping
- **certifiedAgreement** - `certifiedAgreement` - Certified Agreement mapping
- **externalMappingRef** - `externalMappingRef` - External system reference

### 13. Workflow and Business Rule Metadata

#### 13.1 Position Creation Workflow (FR-28)
- **Trigger Conditions**:
  - Position type = "Permanent"
  - Position level = "SES"
  - Funding type = "Government"
  - Salary > threshold amount
- **Approval Steps**:
  - Initial validation → JADE team review
  - Financial impact → Finance team review
  - Final approval → Department head
- **Status Tracking**: `workflowStatus`, `approverId`, `approvalDate`

#### 13.2 Organizational Change Workflow
- **Change Types**: Creation, Modification, Abolishment
- **Approval Levels**: Department, Division, Region specific
- **Notification Rules**: Automatic notifications to stakeholders
- **Audit Trail**: Complete change history with approval tracking

### 14. Integration Mapping Metadata

#### 14.1 CIS Integration Fields
- **Organization Mapping**:
  - `cis_org_unit_id` → `FOrganizationUnit.externalCode`
  - `cis_org_name` → `FOrganizationUnit.name`
  - `cis_org_type` → `FOrganizationUnit.orgUnitType`

#### 14.2 HR RG Integration Fields
- **Data Harmonization**:
  - `successfactors_id` → `hr_rg_reference_id`
  - `effective_date_range` → `time_slice_id`
  - `data_quality_score` → `harmonization_status`

This comprehensive metadata extraction provides complete coverage of the organizational design requirements for the Queensland Department of Education HCMS implementation, ensuring all functional requirements from FR-1 through FR-38 are supported by appropriate data objects, relationships, and business rules within the SAP SuccessFactors environment.